service: quality-massage-booking

provider:
  name: aws
  runtime: nodejs18.x
  stage: ${opt:stage, 'dev'}
  region: us-east-1
  environment:
    NODE_ENV: ${opt:stage, 'lambda'}
    SESSION_SECRET: ${env:SESSION_SECRET, 'massage-booking-secret'}
    ADMIN_PASSWORD_HASH: ${env:ADMIN_PASSWORD_HASH, ''}
    # Add other environment variables as needed

functions:
  app:
    handler: app.handler
    events:
      - http:
          path: /
          method: ANY
      - http:
          path: /{proxy+}
          method: ANY
    environment:
      NODE_ENV: lambda
    timeout: 30 # seconds
    memorySize: 1024 # MB

plugins:
  # - serverless-domain-manager

# Temporarily commenting out custom domain configuration
# custom:
#   customDomain:
#     domainName: qualitymassage.otalkie.com
#     basePath: ''
#     stage: ${self:provider.stage}
#     createRoute53Record: false
#     certificateArn: arn:aws:acm:us-east-1:339712753958:certificate/90caa564-dc89-42cd-b337-4f526cef85d8
